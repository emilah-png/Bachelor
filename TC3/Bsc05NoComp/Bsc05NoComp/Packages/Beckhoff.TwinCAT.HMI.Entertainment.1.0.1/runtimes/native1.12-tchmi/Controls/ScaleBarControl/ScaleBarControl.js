var TcHmi;(function(F){var i;(function(i){var e;(function(i){class e extends F.Controls.System.TcHmiControl{constructor(i,e,t){super(i,e,t);this.__internalMaxValue=100;this.__internalMinValue=0}__previnit(){this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Entertainment_ScaleBar-template");if(this.__elementTemplateRoot.length===0){throw new Error("Invalid Template.html")}this.__elementContainer=this.__elementTemplateRoot.find(".TcHmi_Controls_Entertainment_ScaleBar-container");if(this.__elementContainer.length===0){throw new Error("Invalid Template.html, missing element: div (.TcHmi_Controls_Entertainment_ScaleBar-container)")}super.__previnit()}__init(){super.__init()}__attach(){super.__attach();this.__processTicks()}__detach(){super.__detach()}destroy(){if(this.__keepAlive){return}super.destroy()}__setInternalMinMaxValue(){if(this.__MinValue!==undefined&&this.__MaxValue!==undefined){this.__internalMinValue=this.__MinValue>this.__MaxValue?this.__MaxValue:this.__MinValue;this.__internalMaxValue=this.__MaxValue<this.__MinValue?this.__MinValue:this.__MaxValue}else{this.__internalMinValue=0;this.__internalMaxValue=100}this.__processTicks()}setOrientation(i){let e=F.ValueConverter.toString(i);if(e===null){e=this.getAttributeDefaultValueInternal("Orientation")}if(e===this.__Orientation){return}this.__Orientation=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Orientation"});this.__processTicks()}getOrientation(){return this.__Orientation}setAlignment(i){let e=F.ValueConverter.toHorizontalAlignment(i);if(e===null){e=this.getAttributeDefaultValueInternal("Alignment")}if(e===this.__Alignment){return}this.__Alignment=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Alignment"});this.__processTickConfiguration()}getAlignment(){return this.__Alignment}setShowEndTicks(i){let e=F.ValueConverter.toBoolean(i);if(e===null){e=this.getAttributeDefaultValueInternal("ShowEndTicks")}if(e===this.__ShowEndTicks){return}this.__ShowEndTicks=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowEndTicks"});this.__processTicks()}getShowEndTicks(){return this.__ShowEndTicks}setMinValue(i){let e=F.ValueConverter.toNumber(i);if(e===null){e=this.getAttributeDefaultValueInternal("MinValue")}if(e===this.__MinValue){return}this.__MinValue=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MinValue"});if(this.__MaxValue===undefined||this.__MinValue===undefined){return}this.__setInternalMinMaxValue()}getMinValue(){return this.__MinValue}setMaxValue(i){let e=F.ValueConverter.toNumber(i);if(e===null){e=this.getAttributeDefaultValueInternal("MaxValue")}if(e===this.__MaxValue){return}this.__MaxValue=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MaxValue"});if(this.__MaxValue===undefined||this.__MinValue===undefined){return}this.__setInternalMinMaxValue()}getMaxValue(){return this.__MaxValue}setStartTicksWithMinValue(i){let e=F.ValueConverter.toBoolean(i);if(e===null){e=this.getAttributeDefaultValueInternal("StartTicksWithMinValue")}if(e===this.__StartTicksWithMinValue){return}this.__StartTicksWithMinValue=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StartTicksWithMinValue"});this.__processTicks()}getStartTicksWithMinValue(){return this.__StartTicksWithMinValue}setTickColor(i){let e=F.ValueConverter.toObject(i);if(e===null){e=this.getAttributeDefaultValueInternal("TickColor")}if(e===this.__TickColor){return}this.__TickColor=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TickColor"});this.__processTickConfiguration()}getTickColor(){return this.__TickColor}setMainTickSize(i){let e=F.ValueConverter.toObject(i);if(e===null){e=this.getAttributeDefaultValueInternal("MainTickSize")}if(e===this.__MainTickSize){return}this.__MainTickSize=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MainTickSize"});this.__processTickConfiguration()}getMainTickSize(){return this.__MainTickSize}setSubTickSize(i){let e=F.ValueConverter.toObject(i);if(e===null){e=this.getAttributeDefaultValueInternal("SubTickSize")}if(e===this.__SubTickSize){return}this.__SubTickSize=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SubTickSize"});this.__processTickConfiguration()}getSubTickSize(){return this.__SubTickSize}__processTickConfiguration(){var i,e,t,n,a,s,r,_,l,o,h,u,c,T,d,k,m,v,M,f,V,g,S,b,C,p,z,R,E,x,O,I,H,P,W,B,N,D,L,U,j,$,q;if(!this.__isAttached)return;if(this.__elementMainTick)((i=this.__TickColor)===null||i===void 0?void 0:i.color)?this.__elementMainTick.css("background",this.__TickColor.color):this.__elementMainTick.css("background","");if(this.__elementSubTick)this.__TickColor?this.__elementSubTick.css("background",this.__TickColor.color):this.__elementSubTick.css("background","");let y=this.__Orientation==="Horizontal"||this.__Orientation=="HorizontalInverted"?"top":"left";let w="";let A="";if(this.__Orientation=="Horizontal"){w="width";A="height"}else if(this.__Orientation=="Vertical"){w="height";A="width"}else if(this.__Orientation=="HorizontalInverted"){w="width";A="height"}else if(this.__Orientation=="VerticalInverted"){w="height";A="width"}if(this.__Alignment==="Left"){(e=this.__elementMainTick)===null||e===void 0?void 0:e.css(y,"0");(t=this.__elementSubTick)===null||t===void 0?void 0:t.css(y,"0%");if(this.__Orientation=="Horizontal"){(n=this.__elementMainTick)===null||n===void 0?void 0:n.css("transform","translate(-50%, 0%)");(a=this.__elementSubTick)===null||a===void 0?void 0:a.css("transform","translate(-50%, 0%)")}else if(this.__Orientation=="HorizontalInverted"){(s=this.__elementMainTick)===null||s===void 0?void 0:s.css("transform","translate(50%,100%)");(r=this.__elementSubTick)===null||r===void 0?void 0:r.css("transform","translate(50%,0%)")}else if(this.__Orientation=="VerticalInverted"){(_=this.__elementMainTick)===null||_===void 0?void 0:_.css("transform","translate(0%,-50%)");(l=this.__elementSubTick)===null||l===void 0?void 0:l.css("transform","translate(0%,-50%)")}else{(o=this.__elementMainTick)===null||o===void 0?void 0:o.css("transform","translate(0%, 50%)");(h=this.__elementSubTick)===null||h===void 0?void 0:h.css("transform","translate(0%, 50%)")}}else if(this.__Alignment==="Center"){(u=this.__elementMainTick)===null||u===void 0?void 0:u.css(y,"50%");(c=this.__elementSubTick)===null||c===void 0?void 0:c.css(y,"50%");if(this.__Orientation=="Horizontal"){(T=this.__elementMainTick)===null||T===void 0?void 0:T.css("transform","translate(-50%, -50%)");(d=this.__elementSubTick)===null||d===void 0?void 0:d.css("transform","translate(-50%, -50%)")}else if(this.__Orientation=="Vertical"){(k=this.__elementMainTick)===null||k===void 0?void 0:k.css("transform","translate(-50%,50%)");(m=this.__elementSubTick)===null||m===void 0?void 0:m.css("transform","translate(-50%,50%)")}else if(this.__Orientation=="HorizontalInverted"){(v=this.__elementMainTick)===null||v===void 0?void 0:v.css("transform","translate(50%,-50%)");(M=this.__elementSubTick)===null||M===void 0?void 0:M.css("transform","translate(50%,-50%)")}else if(this.__Orientation=="VerticalInverted"){(f=this.__elementMainTick)===null||f===void 0?void 0:f.css("transform","translate(-50%,-50%)");(V=this.__elementSubTick)===null||V===void 0?void 0:V.css("transform","translate(-50%,-50%)")}}else{(g=this.__elementMainTick)===null||g===void 0?void 0:g.css(y,"100%");(S=this.__elementSubTick)===null||S===void 0?void 0:S.css(y,"100%");if(this.__Orientation=="Horizontal"){(b=this.__elementMainTick)===null||b===void 0?void 0:b.css("transform","translate(-50%,-100%)");(C=this.__elementSubTick)===null||C===void 0?void 0:C.css("transform","translate(-50%,-100%)")}else if(this.__Orientation=="HorizontalInverted"){(p=this.__elementMainTick)===null||p===void 0?void 0:p.css("transform","translate(50%,-100%)");(z=this.__elementSubTick)===null||z===void 0?void 0:z.css("transform","translate(50%,-100%)")}else if(this.__Orientation=="VerticalInverted"){(R=this.__elementMainTick)===null||R===void 0?void 0:R.css("transform","translate(-100%,-50%)");(E=this.__elementSubTick)===null||E===void 0?void 0:E.css("transform","translate(-100%,-50%)")}else{(x=this.__elementMainTick)===null||x===void 0?void 0:x.css("transform","translate(-100%, 50%)");(O=this.__elementSubTick)===null||O===void 0?void 0:O.css("transform","translate(-100%, 50%)")}}if(!((I=this.__MainTickSize)===null||I===void 0?void 0:I.MeasurementUnitLength)||!((H=this.__MainTickSize)===null||H===void 0?void 0:H.MeasurementUnitThickness)||!((P=this.__MainTickSize)===null||P===void 0?void 0:P.MeasurementValueLength)||!((W=this.__MainTickSize)===null||W===void 0?void 0:W.MeasurementValueThickness)){throw new Error("Invalid Main-TickSize Configuration");return}if(!((B=this.__SubTickSize)===null||B===void 0?void 0:B.MeasurementUnitLength)||!((N=this.__SubTickSize)===null||N===void 0?void 0:N.MeasurementUnitThickness)||!((D=this.__SubTickSize)===null||D===void 0?void 0:D.MeasurementValueLength)||!((L=this.__SubTickSize)===null||L===void 0?void 0:L.MeasurementValueThickness)){throw new Error("Invalid Sub-TickSize Configuration");return}(U=this.__elementMainTick)===null||U===void 0?void 0:U.css(w,F.ValueConverter.toString(this.__MainTickSize.MeasurementValueThickness)+this.__MainTickSize.MeasurementUnitThickness);(j=this.__elementSubTick)===null||j===void 0?void 0:j.css(w,F.ValueConverter.toString(this.__SubTickSize.MeasurementValueThickness)+this.__SubTickSize.MeasurementUnitThickness);($=this.__elementMainTick)===null||$===void 0?void 0:$.css(A,F.ValueConverter.toString(this.__MainTickSize.MeasurementValueLength)+this.__MainTickSize.MeasurementUnitLength);(q=this.__elementSubTick)===null||q===void 0?void 0:q.css(A,F.ValueConverter.toString(this.__SubTickSize.MeasurementValueLength)+this.__SubTickSize.MeasurementUnitLength)}setTickRange(i){let e=F.ValueConverter.toObject(i);if(e===null){e=this.getAttributeDefaultValueInternal("TickRange")}if(e===this.__TickRange){return}this.__TickRange=e;F.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TickRange"});this.__processTicks()}getTickRange(){return this.__TickRange}__processTicks(){this.__elementContainer.empty();if(this.__TickRange&&this.__internalMaxValue!==undefined&&this.__internalMinValue!==undefined){this.__MainTickCount=Math.floor((this.__internalMaxValue-this.__internalMinValue)/this.__TickRange.mainTickRange)+1;this.__SubTickCount=Math.floor((this.__internalMaxValue-this.__internalMinValue)/this.__TickRange.subTickRange)+1}else{return}let t="";if(this.__Orientation=="Horizontal")t="left";else if(this.__Orientation=="Vertical")t="bottom";else if(this.__Orientation=="HorizontalInverted")t="right";else if(this.__Orientation=="VerticalInverted")t="top";let e=this.__StartTicksWithMinValue?0:this.__internalMinValue<0?Math.abs(this.__internalMinValue)%this.__TickRange.subTickRange:this.__TickRange.subTickRange-this.__internalMinValue%this.__TickRange.subTickRange;let n=this.__StartTicksWithMinValue?0:this.__internalMinValue<0?Math.abs(this.__internalMinValue)%this.__TickRange.mainTickRange:this.__TickRange.mainTickRange-this.__internalMinValue%this.__TickRange.mainTickRange;let a,s;for(let i=0;i<this.__SubTickCount;i++){if(this.__StartTicksWithMinValue)a=this.__TickRange.subTickRange*i;else a=this.__TickRange.subTickRange*i+this.__internalMinValue+e;if(a%Math.abs(this.__TickRange.mainTickRange)===0){continue}if(a===this.__internalMinValue&&!this.__ShowEndTicks||a===this.__internalMaxValue&&!this.__ShowEndTicks){continue}s=$('<div class="TcHmi_Controls_Entertainment_ScaleBar-subTick"></div>');if(this.__StartTicksWithMinValue)s.css(t,a/(this.__internalMaxValue-this.__internalMinValue)*100+"%");else s.css(t,(a-this.__internalMinValue)/(this.__internalMaxValue-this.__internalMinValue)*100+"%");this.__elementContainer.append(s)}for(let e=0;e<this.__MainTickCount;e++){if(this.__StartTicksWithMinValue)a=this.__TickRange.mainTickRange*e-this.__TickRange.mainTickRange;else a=this.__TickRange.mainTickRange*e+this.__internalMinValue+n-this.__TickRange.mainTickRange;if(a===this.__internalMinValue&&!this.__ShowEndTicks||a===this.__internalMaxValue&&!this.__ShowEndTicks){continue}let i=$('<div class="TcHmi_Controls_Entertainment_ScaleBar-mainTick"></div>');if(this.__StartTicksWithMinValue)i.css(t,a/(this.__internalMaxValue-this.__internalMinValue)*100+"%");else i.css(t,(a-this.__internalMinValue)/(this.__internalMaxValue-this.__internalMinValue)*100+"%");this.__elementContainer.append(i)}this.__elementSubTick=this.__elementContainer.find(".TcHmi_Controls_Entertainment_ScaleBar-subTick");this.__elementMainTick=this.__elementContainer.find(".TcHmi_Controls_Entertainment_ScaleBar-mainTick");this.__processTickConfiguration()}}i.ScaleBar=e})(e=i.Entertainment||(i.Entertainment={}))})(i=F.Controls||(F.Controls={}))})(TcHmi||(TcHmi={}));TcHmi.Controls.registerEx("ScaleBar","TcHmi.Controls.Entertainment",TcHmi.Controls.Entertainment.ScaleBar);
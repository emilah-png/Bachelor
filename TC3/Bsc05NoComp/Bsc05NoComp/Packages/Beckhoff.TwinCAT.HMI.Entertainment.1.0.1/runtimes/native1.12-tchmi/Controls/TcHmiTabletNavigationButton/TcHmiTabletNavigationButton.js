var TcHmi;(function(i){var e;(function(e){var t;(function(e){var t;(function(e){class t extends i.Controls.System.TcHmiControl{constructor(e,t,i){super(e,t,i);this.__destroyEventTouchMove=null;this.__destroyEventMouseMove=null;this.__Mouse=false;this.__Touch=false;this.__ClickTimeoutId=0;this.__touchLockTimeoutId=0;this.__mousedownHandler=this.__onMouseDown();this.__mouseupHandler=this.__onMouseUp();this.__mouseleaveHandler=this.__onMouseLeave();this.__touchstartHandler=this.__onTouchStart();this.__touchEndOrCancelHandler=this.__onTouchEndOrCancel()}__previnit(){this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Entertainment_TabletNavigation_Button-template");if(this.__elementTemplateRoot.length===0){throw new Error("Invalid Template.html")}this.__elementIcon=this.__elementTemplateRoot.find(".TcHmi_Controls_Entertainment_TabletNavigation_Button-icon");if(this.__elementIcon.length===0){throw new Error("Invalid Template.html, missing img element .TcHmi_Controls_Entertainment_TabletNavigation_Button-icon")}this.__elementText=this.__elementTemplateRoot.find(".TcHmi_Controls_Entertainment_TabletNavigation_Button-text");if(this.__elementText.length===0){throw new Error("Invalid Template.html, missing div element .TcHmi_Controls_Entertainment_TabletNavigation_Button-text")}this.__elementDiagCircle=this.__elementTemplateRoot.find(".TcHmi_Controls_Entertainment_TabletNavigation_Button-diagCircle");if(this.__elementDiagCircle.length===0){throw new Error("Invalid Template.html, missing div element .TcHmi_Controls_Entertainment_TabletNavigation_Button-diagCircle")}super.__previnit()}__init(){super.__init()}__attach(){super.__attach();this.__element[0].addEventListener("mousedown",this.__mousedownHandler);this.__element[0].addEventListener("mouseleave",this.__mouseleaveHandler);this.__element[0].addEventListener("touchstart",this.__touchstartHandler);this.__element[0].addEventListener("touchend",this.__touchEndOrCancelHandler);this.__element[0].addEventListener("touchcancel",this.__touchEndOrCancelHandler);if(TCHMI_DESIGNER!==true)this.__elementDiagCircle.css("animation","Blink 4s infinite")}__detach(){super.__detach();if(this.__destroyEventTouchMove){this.__destroyEventTouchMove();this.__destroyEventTouchMove=null}if(this.__destroyEventMouseMove){this.__destroyEventMouseMove();this.__destroyEventMouseMove=null}this.__element[0].removeEventListener("mousedown",this.__mousedownHandler);this.__element[0].removeEventListener("mouseleave",this.__mouseleaveHandler);this.__element[0].removeEventListener("touchstart",this.__touchstartHandler);this.__element[0].removeEventListener("touchend",this.__touchEndOrCancelHandler);this.__element[0].removeEventListener("touchcancel",this.__touchEndOrCancelHandler)}destroy(){if(this.__keepAlive){return}super.destroy()}setButtonText(e){let t=i.ValueConverter.toString(e);if(t===null){t=this.getAttributeDefaultValueInternal("ButtonText")}if(tchmi_equal(t,this.__ButtonText)){return}this.__ButtonText=t;i.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ButtonText"});this.__processButtonText()}getButtonText(){return this.__ButtonText}__processButtonText(){this.__elementText[0].innerHTML=this.__ButtonText}setIcon(e){let t=i.ValueConverter.toString(e);if(t===null){t=this.getAttributeDefaultValueInternal("Icon")}if(tchmi_equal(t,this.__Icon)){return}this.__Icon=t;i.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Icon"});this.__processIcon()}getIcon(){return this.__Icon}__processIcon(){if(this.__elementIcon.hasClass("Active")&&this.__Icon_Active)this.__elementIcon.css("content",this.__Icon_Active);else if(!this.__elementIcon.hasClass("Active")&&this.__Icon)this.__elementIcon.css("content",this.__Icon);else this.__elementIcon.css("content","url()")}setIcon_Active(e){let t=i.ValueConverter.toString(e);if(t===null||t==="url()"){if(this.__Icon)t=this.__Icon;else t=this.getAttributeDefaultValueInternal("Icon_Active")}if(tchmi_equal(t,this.__Icon_Active)){return}this.__Icon_Active=t;i.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Icon_Active"});this.__processIcon()}getIcon_Active(){return this.__Icon_Active}setContentPage(e){let t=i.ValueConverter.toString(e);if(t===null){t=this.getAttributeDefaultValueInternal("ContentPage")}if(tchmi_equal(t,this.__ContentPage)){return}this.__ContentPage=t;i.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ContentPage"})}getContentPage(){return this.__ContentPage}setDiagState(e){let t=e;if(t===null||t===undefined){t=this.getAttributeDefaultValueInternal("DiagState")}if(tchmi_equal(t,this.__DiagState)){return}this.__DiagState=Number(t);i.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DiagState"});this.__processDiagState()}getDiagState(){return this.__DiagState}__processDiagState(){if(!this.__DiagState)this.__DiagState=0;switch(Number(this.__DiagState)){case e.Severity.Information:this.__elementDiagCircle.addClass("Information");this.__elementDiagCircle.removeClass("Warning Alarm Critical");this.__elementDiagCircle.css("visibility","visible");break;case e.Severity.Warning:this.__elementDiagCircle.addClass("Warning");this.__elementDiagCircle.removeClass("Information Alarm Critical");this.__elementDiagCircle.css("visibility","visible");break;case e.Severity.Alarm:this.__elementDiagCircle.removeClass("Information Warning Critical");this.__elementDiagCircle.addClass("Alarm");this.__elementDiagCircle.css("visibility","visible");break;case e.Severity.Critical:this.__elementDiagCircle.removeClass("Information Warning Alarm");this.__elementDiagCircle.addClass("Critical");this.__elementDiagCircle.css("visibility","visible");break;default:this.__elementDiagCircle.removeClass("Information Warning Alarm Critical");this.__elementDiagCircle.css("visibility","collapse");break}}Activate(){if(this.__elementIcon){this.__elementIcon.addClass("Active")}if(this.__elementText)this.__elementText.addClass("Active");this.__processIcon()}Deactivate(){if(this.__elementIcon){this.__elementIcon.removeClass("Active")}if(this.__elementText)this.__elementText.removeClass("Active");this.__processIcon()}Update(e){this.setButtonText(e.ButtonText);this.setContentPage(e.ContentPage);this.setDiagState(e.DiagState);this.setIcon("url("+e.Icon+")");this.setIcon_Active("url("+e.Icon_Active+")")}__onMouseDown(){return e=>{if(e.button!==0){return}this.__Mouse=true;let _=e;_.preventDefault();if(this.__destroyEventMouseMove){this.__destroyEventMouseMove();this.__destroyEventMouseMove=null}this.__destroyEventMouseMove=i.EventProvider.register(this.__id+".onMouseMove",(e,t)=>{if(!_)return;t.preventDefault();let i=10;let n=t.clientX-_.clientX;let s=t.clientY-_.clientY;if(n>i||n<-i||s>i||s<-i){this.__Mouse=false;if(this.__destroyEventMouseMove){this.__destroyEventMouseMove();this.__destroyEventMouseMove=null}}});if(this.__ClickTimeoutId){clearTimeout(this.__ClickTimeoutId);this.__ClickTimeoutId=0}this.__ClickTimeoutId=setTimeout(()=>{this.__Mouse=false},500)}}__onMouseUp(){return e=>{if(this.__destroyEventMouseMove){this.__destroyEventMouseMove();this.__destroyEventMouseMove=null}if(e.button!==0||!this.__Mouse){return}this.__Mouse=false;i.EventProvider.raise(this.__id+".onPressed",this.__ContentPage)}}__onMouseLeave(){return e=>{if(this.__destroyEventMouseMove){this.__destroyEventMouseMove();this.__destroyEventMouseMove=null}if(!this.__Mouse){return}this.__Mouse=false}}__onTouchStart(){return e=>{this.__Touch=true;let _=e;_.preventDefault();if(this.__destroyEventTouchMove){this.__destroyEventTouchMove();this.__destroyEventTouchMove=null}this.__destroyEventTouchMove=i.EventProvider.register(this.__id+".onTouchMove",(e,t)=>{if(!TouchEvent)return;t.preventDefault();let i=10;let n=t.touches[0].clientX-_.touches[0].clientX;let s=t.touches[0].clientY-_.touches[0].clientY;if(n>i||n<-i||s>i||s<-i){this.__Touch=false;if(this.__destroyEventTouchMove){this.__destroyEventTouchMove();this.__destroyEventTouchMove=null}}});if(this.__touchLockTimeoutId){clearTimeout(this.__touchLockTimeoutId);this.__touchLockTimeoutId=0}this.__touchLockTimeoutId=setTimeout(()=>{this.__Touch=false},500)}}__onTouchEndOrCancel(){return e=>{if(this.__destroyEventTouchMove){this.__destroyEventTouchMove();this.__destroyEventTouchMove=null}if(!this.__Touch){return}this.__Touch=false;i.EventProvider.raise(this.__id+".onPressed",this.__ContentPage)}}}e.Button=t})(t=e.TabletNavigation||(e.TabletNavigation={}))})(t=e.Entertainment||(e.Entertainment={}))})(e=i.Controls||(i.Controls={}))})(TcHmi||(TcHmi={}));TcHmi.Controls.registerEx("Button","TcHmi.Controls.Entertainment.TabletNavigation",TcHmi.Controls.Entertainment.TabletNavigation.Button);